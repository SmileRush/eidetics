{"version":3,"file":"Container.js","sources":["../../../../src_code/Components/Modal/Consumer/Container.tsx"],"sourcesContent":["import styled from '@emotion/styled'\nimport { memo, useEffect, useRef } from 'react';\nimport { _useModalPortal, useModal } from '../Hooks';\nimport { ModalTypes } from '../Types';\nimport { Div } from 'Elements';\nimport { createPortal } from 'react-dom';\n\nexport const Container: ModalTypes['Parts']['Container'] = memo((props) => {\n  const { children }           = props\n  const { isOpen, closeModal } = useModal()\n  const modalRoot              = _useModalPortal()\n  const ContainerRef           = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (ContainerRef.current && !ContainerRef.current.contains(e.target as Node)) {\n        closeModal()\n      }\n    }\n\n    if (isOpen) window.addEventListener('mousedown', handleClickOutside)\n    return () => window.removeEventListener('mousedown', handleClickOutside)\n  }, [isOpen, closeModal])\n\n  return modalRoot ? (\n    createPortal(\n      <ContainerWrapper ref={ContainerRef} isOpen={isOpen} {...props}>\n        {children}\n      </ContainerWrapper>,\n      modalRoot\n    )\n  ) : null;\n  // return (\n  //   <ContainerWrapper ref={ContainerRef} isOpen={isOpen} {...props}>\n  //     {children}\n  //   </ContainerWrapper>\n  // )\n})\n\nconst ContainerWrapper = styled(Div)<ModalTypes['Props']['Container']>`\n  visibility       : ${(props) => (props.isOpen ? 'visible' : 'hidden')};\n  opacity          : ${(props) => (props.isOpen ? 1 : 0)};\n  transition       : opacity ${({ isOpen }) => isOpen ? '0.3s' : '0.2s'} ease-in-out, visibility ${({ isOpen }) => isOpen ? '0.3s' : '0.2s'} ease-in-out;\n  position         : fixed;\n  top              : 50%;\n  left             : 50%;\n  transform        : translate(-50%, -50%);\n  width            : 60%;\n  max-width        : 500px;\n  min-width        : 300px;\n  background-color : #d9d9d9;\n  color            : black;\n  border           : 1px solid #ccc;\n  box-shadow       : 10px 10px 15px rgba(0, 0, 0, 0.3);\n  z-index          : 1000;\n  border-radius    : 10px;\n  margin           : 0 auto;\n  overflow         : hidden;\n`;"],"names":["Container","memo","props","children","_useModal","useModal","isOpen","closeModal","modalRoot","_useModalPortal","ContainerRef","useRef","useEffect","handleClickOutside","e","current","contains","target","window","addEventListener","removeEventListener","createPortal","_jsx","ContainerWrapper","_objectSpread","ref","styled","Div","_templateObject","_taggedTemplateLiteral","_ref","_ref2"],"mappings":"ukCAOaA,EAA8CC,GAAK,SAACC,GAC/D,IAAQC,EAAuBD,EAAvBC,SACRC,EAA+BC,IAAvBC,EAAMF,EAANE,OAAQC,EAAUH,EAAVG,WACVC,EAAyBC,IACzBC,EAAyBC,EAAuB,MAatD,OAXAC,GAAU,WACR,IAAMC,EAAqB,SAACC,GACtBJ,EAAaK,UAAYL,EAAaK,QAAQC,SAASF,EAAEG,SAC3DV,KAKJ,OADID,GAAQY,OAAOC,iBAAiB,YAAaN,GAC1C,WAAA,OAAMK,OAAOE,oBAAoB,YAAaP,EAAmB,CAC1E,GAAG,CAACP,EAAQC,IAELC,EACLa,EACEC,EAACC,EAAgBC,EAAAA,EAAA,CAACC,IAAKf,EAAcJ,OAAQA,GAAYJ,GAAK,GAAA,CAAAC,SAC3DA,KAEHK,GAEA,IAMN,IAEMe,EAAmBG,EAAOC,EAAPD,CAAWE,IAAAA,EAAAC,EAAA,CAAA,0BAAA,2BAAA,mCAAA,4BAAA,0fACb,SAAC3B,GAAK,OAAMA,EAAMI,OAAS,UAAY,QAAQ,IAC/C,SAACJ,GAAK,OAAMA,EAAMI,OAAS,EAAI,CAAC,IACxB,SAAAwB,GAAS,OAAAA,EAANxB,OAAsB,OAAS,MAAM,IAA4B,SAAAyB,GAAS,OAAAA,EAANzB,OAAsB,OAAS,MAAM"}